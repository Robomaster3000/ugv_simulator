#!/bin/sh



echo -e "\e[37m MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMMMMMMMMMMMMMMMM\e[0\e[34mWWNNXK0OOO0KNW\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMMMMMMM\e[0\e[34mNX0Okxxdooooddddl',llcoK\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMMMM\e[0\e[34mWKd:;coldO0KXXNWWWWk;oK0x:ckN\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMMM\e[0\e[34mXd;..;kK0OKXK0Okxxdol;,o0NNkcoX\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMM\e[0\e[34mNo,''..:llldxddddxxkO0Kx:lXMMKocOW\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMM\e[0\e[34mNo'..,:lx0NW\e[0m\e[37mMMMMMMMMMMM\e[0m\e[34mWKocOWMNxcxX\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMM\e[0\e[34mWKd,...,dXW\e[0m\e[37mMMMMMMMMMMMMMMMM\e[0m\e[34mNxcxNMW0clKW\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMM\e[0\e[34mW0;.':l;..cK\e[0m\e[37mMMMMMMMMMMMMMMMMM\e[0m\e[34mW0ll0WNO:;kW\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMM\e[0\e[34mWd.'xWWK:.;0\e[0m\e[37mMMMMMMMMMMMMMMMMMMM\e[0m\e[34mXdcdl;;';OW\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMM\e[0\e[34mWo.;0MMWd.,OW\e[0m\e[37mMMMMMMMMMMMMMMMMMMM\e[0m\e[34mWx',;,,;c0\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMM\e[0\e[34mWd.;OKkc,.,OW\e[0m\e[37mMMMMMMMMMMMMMMMMMMMM\e[0m\e[34mO,.,,,'.dW\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMM\e[0\e[34mWWWMWk'..:c...:K\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMM\e[0m\e[34m0,......dW\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMM\e[0\e[34mNKKkl:dNWW0:..cc..:K\e[0m\e[37mMMMMMMMMMMMMMMMMMMMM\e[0m\e[34mW0,......dW\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m M\e[0\e[34mWO:';l'..xWMWO,.'o:..oN\e[0m\e[37mMMMMMMMMMMMMMMMMMMMM\e[0m\e[34mO,......oW\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MM\e[0\e[34mXc..cl..;0MMNd..,c'..dW\e[0m\e[37mMMMMMMMMMMMMMMMMMMM\e[0m\e[34mO'......oW\e[0m\e[37mMMMMMMMMMMMMMMMM\e[0m\e[34mWWWNWWW\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMM\e[0\e[34m0;..l:..cXMMXc..:l..,0\e[0m\e[37mMMMMMMMMMMMMMMMMMM\e[0m\e[34mWd...;;..:0W\e[0m\e[37mMMMMMMMMMMMM\e[0m\e[34mW0oc:;;;:ldON\e[0m\e[37mMMMMMMM\e[0m\e[34mWOlllllllloox0N\e[0m\e[37mMMMMMMMM \e[0m"
echo -e "\e[37m MMM\e[0\e[34mWx..'l,..l0kd:..,d;..xW\e[0m\e[37mMMMMMMMMMMMMMMMM\e[0m\e[34mNx'.'lloc..;ONW\e[0m\e[37mMMMMMMMMMM\e[0m\e[34mWx,,,,,,,'..c0W\e[0m\e[37mMMMMM\e[0m\e[34mWo...''''''...:kN\e[0m\e[37mMMMMMM \e[0m"
echo -e "\e[37m MMMM\e[0\e[34mNo..;o,......,;c:..,0\e[0m\e[37mMMMMMMMMMMMMMMMM\e[0m\e[34mNd..'l:..cc..,ckW\e[0m\e[37mMMMMMMMMM\e[0m\e[34mWO:,'''',cc..;0\e[0m\e[37mMMMMM\e[0m\e[34mWo..;l:;;;:c:'..oN\e[0m\e[37mMMMMM \e[0m"
echo -e "\e[37m MMMMM\e[0\e[34mXc..;c;,;::;;,...:OW\e[0m\e[37mMMMMMMMMMMMMMMM\e[0m\e[34mNo..,l;....cl...,kW\e[0m\e[37mMMMMMMMM\e[0m\e[34mWd';clc..'o:..x\e[0m\e[37mMMMMM\e[0m\e[34mWl..;:......:o,.'O\e[0m\e[37mMMMMM \e[0m"
echo -e "\e[37m MMMMMM\e[0\e[34mKl...','....,cdON\e[0m\e[37mMMMMMMMMMMMMMMMM\e[0m\e[34mXl..,l,..;,..:c...'xN\e[0m\e[37mMMMMMMMM\e[0m\e[34mXKNWO:..:l'.,O\e[0m\e[37mMMMMM\e[0m\e[34mWo..;c...,..,d;.'k\e[0m\e[37mMMMMM \e[0m"
echo -e "\e[37m MMMMMMM\e[0\e[34mW0xoc:cldk0XW\e[0m\e[37mMMMMMMMMMMMMMMMMMM\e[0m\e[34mXl..;l,..oXKc..:lc,.'xN\e[0m\e[37mMMMMMMMMM\e[0m\e[34mNx,..cc...lX\e[0m\e[37mMMMMM\e[0m\e[34mWo..;c.....'lc..;K\e[0m\e[37mMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMWMMMMMMMMMMMMMMMMMMMMMMMM\e[0\e[34mK:..;l,..lKNN0:..;oc'..oX\e[0m\e[37mMMMMMMM\e[0m\e[34mKl..,c;....'xW\e[0m\e[37mMMMM\e[0m\e[34mWo..;c..',..:l'..oX\e[0m\e[37mMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM\e[0\e[34mW0:..:l'.'c:,,,;c:...;l,..oN\e[0m\e[37mMMMM\e[0m\e[34mWk;..'lc;,,,,;kW\e[0m\e[37mMMMM\e[0m\e[34mWo..;c..cO:..;l,..cK\e[0m\e[37mMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM\e[0\e[34mWO;..:c'.'xNO:..cKXl...;l,..lK\e[0m\e[37mMM\e[0m\e[34mXd.............xW\e[0m\e[37mMMMM\e[0m\e[34mWo..;c..lNXo..,l:..;OW\e[0m\e[37mM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM\e[0\e[34mWOoox0xooOW\e[0m\e[37mMMXkONMM\e[0m\e[34mXxoookOdodKWXl''',ldxxxo;..'oX\e[0m\e[37mMMMM\e[0m\e[34mWKxxO0xx0W\e[0m\e[37mM\e[0m\e[34mNOxxOKkxx0W\e[0m\e[37mM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM\e[0\e[34mWk:;,,;oX\e[0m\e[37mMM\e[0m\e[34mWO:;,,;dN\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM\e[0\e[34m0l;,;ckW\e[0m\e[37mMM\e[0m\e[34mW0c;',:kN\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM\e[0\e[34mWX000XW\e[0m\e[37mMMMM\e[0m\e[34mWKkdkKW\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMWMMMMMMMMMMMMMMMMMMMWMMMMMMMMMMMMWWMMMMMMMWMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMWMMMMMMMMMMMMMMMMMMMWMMMMMMMMMMMMWWMMMMMMMWMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMWMMMMMMMMMMMMMMMMMMMWMMMMMMMMMMMMWWMMMMMMMWMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMWMMMMMMMMMMMMMMMMMMMWMMMMMMMMMMMMWWMMMMMMMWMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo -e "\e[37m MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM\e[7;4;36mUNIVERSITY OF ANTOFAGASTA ROBOTICS RESEARCH\e[0m\e[37mMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM \e[0m"
echo
version="$(lsb_release -sc)"
######################################################################INSTALACION############################################################################
## nombre de la instalacion 
   nameSetup1="Ceres-Solver"
##
echo -e "\e[1;31mSetup of $nameSetup1 \e[0m"
echo

############################################COMPONENTE###################################
## nombre de componente
   name1Comp1=".tar file Ceres Solver 2.2"
##
echo -e "̣\e[7;33m DOWNLOADING $name1Comp1 of $nameSetup1 \e[31m "


##? comprobacion de la version correcta
   if [ $version == "focal" ]
	then
	   echo -e "\e[7;35m version: Ubuntu 20.04 (focal) \e[0m"
       echo -e "\e[7;31m <<\e[7;31m" 
       cd ~  
       wget http://ceres-solver.org/ceres-solver-2.1.0.tar.gz
	   echo -e " \e[7;31m" 
	else
	   echo -e "\e[7;35m version: Ubuntu 18.04 SE NECESITA TENER UBUNTO 20.04, saliendo...\e[0m" 
	   echo -e " \e[7;31m"
      exit
   fi
##?

##?  final de la instalacion e informacion adicional
   echo -e "\e[7;31m >> \e[0m"
   echo -e "\e[7;35mdownloaded .tar in /home\e[0m" ##> informacion adicional
   echo -e "\e[0m"
##?

############################################COMPONENTE###################################
## nombre de componente
   name1Comp2="dependencies"
##

echo -e "̣\e[7;33m INSTALLING $name1Comp2 de $nameSetup1 \e[31m "
echo -e " <<\e[7;31m"  
# CMake
sudo apt-get install cmake -y
# google-glog + gflags
sudo apt-get install libgoogle-glog-dev libgflags-dev -y
# Use ATLAS for BLAS & LAPACK
sudo apt-get install libatlas-base-dev -y
# Eigen3
sudo apt-get install libeigen3-dev -y
# SuiteSparse (optional)
sudo apt-get install libsuitesparse-dev -y
##? final de la instalacion e informacion adicional
   echo -e "\e[7;31m >> \e[0m"
   echo -e "\e[7;35m\e[0m" ##> informacion adicional
   echo -e "\e[0m"
##?

############################################COMPONENTE###################################
## nombre de componente
   name1Comp3="Ceres"
##

echo -e "̣\e[7;33m INSTALLING $name1Comp3 de $nameSetup1 \e[31m "
echo -e " <<\e[7;31m"  
tar zxf ceres-solver-2.1.0.tar.gz
mkdir ceres-bin
cd ceres-bin
cmake ../ceres-solver-2.1.0
make -j3
make test
sudo make install 
##? final de la instalacion e informacion adicional
   echo -e "\e[7;31m >> \e[0m"
   echo -e "\e[7;35m Ceres solver 2.2\e[0m" ##> informacion adicional
   echo -e "\e[0m"
##?

######################################################################INSTALACION############################################################################
## nombre de la instalacion 
   nameSetup2="DLL"
##
echo -e "\e[1;31mSetup of $nameSetup1 \e[0m"
echo

############################################COMPONENTE###################################
## nombre de componente
   name2Comp1=".tar file dll-1.1"
##

echo -e "̣\e[7;33m DOWNLOADING $name2Comp1 de $nameSetup2 \e[31m "
echo -e " <<\e[7;31m"  
cd ~/solar_ugv_ws/src/
wget https://github.com/robotics-upo/dll/archive/refs/tags/v1.1.tar.gz
tar -xf v1.1.tar.gz -C ~/solar_ugv_ws/src/
rm v1.1.tar.gz
cd ~/solar_ugv_ws/src/dll-1.1/
sudo sed -i 's/set(CMAKE_CXX_STANDARD 11)/set(CMAKE_CXX_STANDARD 14)/g' "CMakeLists.txt"

##? final de la instalacion e informacion adicional
   echo -e "\e[7;31m >> \e[0m"
   echo -e "\e[7;35m downloaded .tar.gz in ~/solar_ugv_ws/src/\e[0m" ##> informacion adicional
   echo -e "\e[0m"
##?

############################################COMPONENTE###################################
## nombre de componente
   name1Comp2="Compilation"
##

echo -e "̣\e[7;33m $name2Comp2 of $nameSetup2 \e[31m "
echo -e " <<\e[7;31m"  
cd ~/solar_ugv_ws/
source devel/setup.bash
catkin_make

##? final de la instalacion e informacion adicional
   echo -e "\e[7;31m >> \e[0m"
   echo -e "\e[7;35m compilation of workspace\e[0m" ##> informacion adicional
   echo -e "\e[0m"
##?